<!DOCTYPE html>
<html lang="en">
<title>{%block title %}Tweet Stats{% endblock %}</title>
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

    <!-- Bootstrap Core CSS -->
    <link href="{{ url_for('static', filename='stylesheets/bootstrap.min.css') }}" rel="stylesheet">

    <!-- jQuery -->
    <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

     <link href="{{ url_for('static', filename='stylesheets/tweet_stats.css') }}" rel="stylesheet">
	<script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>
</head>

{% block content %}
<!-- first row -> description-->
<h1> TweetCity Stats </h1>
<div class="row">
	<p>This exercizes <a href="http://www.tweetcity.me">TweetCity</a>'s API to show statistics on the tweets they store.
	Their API can be found <a href="#">here</a>, on <a href="#">apiary</a>.
	</p>
	</div>
</div>
<!-- end first row -->

<!-- second and third row -> tweet stats-->
<h2> Tweet Statistics </h2>
<div class="row">
	<!-- MAP HERE -->
</div>
<div class="row">
	<!-- line graph -->
	<div class="col-sm-6">
		<div class="panel panel-success">
		    <div class="panel-heading">
		         <h3 class="panel-title">Tweet Volume by Time</h3>

		    </div>
		    <div class="panel-body">
		        <canvas id="tLineChart" width="600" height="400"></canvas>
		    </div>
		</div>
	</div>
</div>
<!-- end third row -->

<!-- third and fourth row -> hashtag stats -->
<h2> Hashtag Statistics </h2>
<div class="row">
<!-- bar chart name -->
	<div class="panel panel-success">
	    <div class="panel-heading">
	         <h3 class="panel-title">Hashtag Distribution</h3>
	    </div>
	    <div class="panel-body">
	    <i>Only hashtags which are mentioned more than once are shown.</i>
	        <canvas id="hDisChartName" width="600" height="200"></canvas>
	    </div>
	</div>
</div>




{% endblock %}


{% block footer_outer %}
<script src="{{ url_for('static', filename='js/tweetCharts.js') }}"></script>
<script>
var options = {
    animation: false,
    scaleoverride: true,
    responsive: true,
    maintainAspectRatio: true
}
$.getJSON("{{ url_for('static', filename='json/pie_hashtags.json') }}", function (json) {
    
    var hDisChartName = document.getElementById("hDisChartName").getContext("2d");
    new Chart(hDisChartName).Bar(json, options);
    
});

$.getJSON("{{ url_for('static', filename='json/tweet_times.json') }}", function (json) {
    
   var tLineChart = $("#tLineChart").get(0).getContext("2d");
   var myTweetLineChart = new Chart(tLineChart).Line(json, options);
    
});
</script>
{% endblock %}